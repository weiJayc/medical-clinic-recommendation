# 核心 Web 功能規格書
## 醫療推薦與健康資源平台

---

## 1. 文件目的與範圍（Purpose and Scope）

本文件定義本醫療推薦 Web 平台的**核心功能需求**，作為整個專案的功能依據與開發邊界。

本文件用途包含：
- 作為**主要開發參考文件**
- 明確定義專案的**功能範圍（Scope）**
- 作為功能實作與程式碼審查（Review）的判斷基準

凡未列於本文件中的功能，皆視為 **非核心範圍（Out of Scope）**，需經團隊明確討論與同意後方可實作。

---

## 2. 依症狀進行醫療科別推薦（Symptom-Based Recommendation）

### 2.1 使用者輸入
- 使用者可使用**自然語言**輸入症狀  
  （例如：「咳嗽、發燒、喉嚨痛」）

---

### 2.2 系統分析流程
系統透過 AI / NLP 模組進行分析，並提供：
- 症狀的**多種可能原因說明**（僅供資訊參考）
- **建議就醫科別**

⚠️ 系統必須清楚標示：  
**本平台不提供醫療診斷，僅提供就醫建議與資訊指引。**

---

### 2.3 輸出結果
- 顯示建議就醫科別，例如：
  - 內科（Internal Medicine）
  - 家庭醫學科（Family Medicine）
  - 耳鼻喉科（ENT / Otolaryngology）
- 顯示附近提供該科別服務的診所或醫院

---

## 3. 分類式醫療資源導覽（Category-Based Browsing）

使用者可在不輸入症狀的情況下，直接依需求瀏覽醫療資源。

---

### 3.1 預防接種服務（Vaccination Services）
- 顯示臺北市政府合約之預防接種醫療院所
- 提供資訊包含：
  - 疫苗種類
  - 適用對象
  - 是否為健保給付項目

---

### 3.2 癌症篩檢服務（Cancer Screening）
- 顯示提供「五大癌症篩檢」之臺北市醫療院所：
  - 乳癌
  - 子宮頸癌
  - 大腸癌
  - 口腔癌
  - 肝癌
- 可依癌症種類進行篩選

---

### 3.3 性健康服務（Sexual Health Services）
- 顯示性健康友善門診
- 可標示之服務內容包含：
  - HIV 篩檢
  - 性病（STD）檢測
  - 藥物或用藥諮詢
  - 友善醫師服務

---

### 3.4 一般就醫服務（General Medical Services）
- 顯示常見就醫科別，例如：
  - 內科
  - 外科
  - 兒科
  - 皮膚科
  - 家庭醫學科

---

## 4. 醫療院所地圖功能（Medical Facility Map）

### 4.1 地圖介面
- 系統需提供互動式地圖介面
- 可使用以下地圖服務之一：
  - Google Maps API
  - OpenStreetMap

---

### 4.2 院所標記分類（Marker Classification）
依院所提供之服務類型，使用不同顏色或圖示標記：
- 🟦 一般就醫服務
- 🟩 預防接種服務
- 🟧 癌症篩檢服務
- 🟪 性健康服務

---

### 4.3 院所資訊卡（Facility Information Card）
點擊地圖標記後，需顯示院所資訊卡，內容包含：
- 院所名稱
- 地址
- 聯絡電話
- 提供之科別與服務
- 導航連結
- 掛號或預約連結（若有）

---

## 5. 距離導向搜尋（Distance-Based Search）

- 系統需使用院所的地理座標（經緯度）
- 透過 PostGIS 計算與使用者位置之**直線距離**
- 回傳使用者附近的醫療院所清單

---

## 6. 技術架構限制（Technology Stack Constraints）

| 層級 | 技術 / 工具 |
|---|---|
| 前端 | React |
| 後端 | FastAPI 或 Node.js |
| NLP | Gemini API |
| 規則邏輯 | 症狀－科別對應表 |
| 資料庫 | PostgreSQL |
| GIS | PostGIS |
| 地圖 | Google Maps API |

---

## 7. 非核心功能（僅於核心功能完成後實作）

以下功能僅在**所有核心功能完成後**，才會進行評估與實作。

---

### 7.1 進階篩選條件（Advanced Filtering）
- 醫療院所等級（診所 / 地區醫院 / 醫學中心）
- 營業狀態（目前是否營業 / 假日是否開放）
- 是否為健保給付

---

### 7.2 收藏與查詢紀錄（Favorites and History）
- 使用者可收藏常用醫療院所
- 系統保留查詢紀錄，方便再次查詢

---

## 8. 開發與協作規則（Development Rules）

- 核心功能優先於非核心功能
- 所有實作內容必須符合本規格文件
- 本文件如需修改，必須經過團隊成員共同討論與同意

---

End of Document
